<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Primary Meta Tags -->
        <title>Lars Erik Schonander</title>
        <meta name="title" content="Lars Erik Schonander">
        <meta name="description" content="Personal writing, links, and other miscellanea by Lars Erik Schonander. ">

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://www.larserikschonander.com/">
        <meta property="og:title" content="Lars Erik Schonander">
        <meta property="og:description" content="Personal writing, links, and other miscellanea by Lars Erik Schonander. ">
        <meta property="og:image" content>

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:url" content="https://www.larserikschonander.com/">
        <meta property="twitter:title" content="Lars Erik Schonander">
        <meta property="twitter:description" content="Personal writing, links, and other miscellanea by Lars Erik Schonander. ">
        <meta property="twitter:image" content>
        <link rel="stylesheet" href="../css/default.css" />
        <link rel="shortcut icon" href="../images/icon_HSn_icon.ico" type="image/x-icon" />
        <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-121467707-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-121467707-1');
    </script>
    </head>
    <body>  
        <h1 id="name">Lars E. Schonander</h1>
        <header>
                <a href="../">Home</a>
                <a href="../about.html">About</a>
                <a href="../contact.html">Contact</a>
                <a href="../archive.html">Archive</a>
            
        </header>

        <main role="main">
            <h1>A Look at ReasonML</h1>
            <article>
    <section class="header">
        Posted on September 10, 2018
        
    </section>
    <section>
        <p>I been interested in functional programming for awhile, but the trouble with functional programming is often times the easy things are hard, and it can be hard to identify good projects to work on. However, their is one functional language that has caught my interest, and it is <a href="https://reasonml.github.io/en/">ReasonML</a>.</p>
<p>Reason, or ReasonML is a dialect of OCaml designed to work with JavaScript because of its relationship to BuckleScript, a OCaml to JavaScript compiler that is also used for Reason. The virtue of this then, is that Reason can not only use both JavaScript and OCaml libraries, it can function on many parts of the stack as well. Beyond this, the pragmatic approach Reason takes to functional programming, inherited from OCaml, is very useful.</p>
<h3 id="a-comparison">A Comparison</h3>
<p>In many imperative languages, one would do FizzBuzz like this:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb1-1" title="1"><span class="cf">for</span> num <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>,<span class="dv">100</span>):</a>
<a class="sourceLine" id="cb1-2" title="2">    <span class="cf">if</span> (num <span class="op">%</span> <span class="dv">15</span> <span class="op">==</span> <span class="dv">0</span>):</a>
<a class="sourceLine" id="cb1-3" title="3">        <span class="bu">print</span>(<span class="st">&quot;FizzBuzz&quot;</span>)</a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="cf">elif</span> (num <span class="op">%</span> <span class="dv">3</span> <span class="op">==</span> <span class="dv">0</span>):</a>
<a class="sourceLine" id="cb1-5" title="5">        <span class="bu">print</span>(<span class="st">&quot;Fizz&quot;</span>)</a>
<a class="sourceLine" id="cb1-6" title="6">    <span class="cf">elif</span> (num <span class="op">%</span> <span class="dv">5</span> <span class="op">==</span> <span class="dv">0</span>):</a>
<a class="sourceLine" id="cb1-7" title="7">        <span class="bu">print</span>(<span class="st">&quot;Buzz&quot;</span>)</a>
<a class="sourceLine" id="cb1-8" title="8">    <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb1-9" title="9">        <span class="bu">print</span>(num) </a></code></pre></div>
<p>While their is nothing wrong with using imperative style loops to solve questions like FizzBuzz. Sometimes, looping is not quite the tool need. ReasonML comes in with its functional background with a concept known as <code>pattern matching</code>. Pattern matching is the act of looking at a sequence of tokens/variables and only applying a method if the token fits the case. This can be seen below with this idea being applied to FizzBuzz:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">let</span> fizzBuzz <span class="op">=</span> (x<span class="op">:</span> int)<span class="op">:</span> string <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">    <span class="cf">switch</span>(x)<span class="op">{</span></a>
<a class="sourceLine" id="cb2-3" title="3">        <span class="op">|</span> _ when x mod <span class="dv">15</span> <span class="op">===</span> <span class="dv">0</span> <span class="kw">=&gt;</span> <span class="st">&quot;Fizzbuzz&quot;</span></a>
<a class="sourceLine" id="cb2-4" title="4">        <span class="op">|</span> _ when x mod <span class="dv">3</span> <span class="op">===</span> <span class="dv">0</span> <span class="kw">=&gt;</span> <span class="st">&quot;Fizz&quot;</span></a>
<a class="sourceLine" id="cb2-5" title="5">        <span class="op">|</span> _ when x mod <span class="dv">5</span> <span class="op">===</span> <span class="dv">0</span> <span class="kw">=&gt;</span> <span class="st">&quot;Buzz&quot;</span></a>
<a class="sourceLine" id="cb2-6" title="6">        <span class="op">|</span> _ <span class="kw">=&gt;</span> <span class="at">string_of_int</span>(x)</a>
<a class="sourceLine" id="cb2-7" title="7">    <span class="op">};</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="op">};</span></a></code></pre></div>
<p>To explain this function, FizzBuzz is a function that takes in a integer labeled x, and outputs a string as its result. Then below their is a <code>switch</code> statement, a way to signify that pattern matching is going on. After the statement, various cases are presented, so when x falls into a certain case, it then outputs the result it matches. However, we are getting ahead of ourselves. While this is a good example of the power of ReasonML, to get to this point, one needs to understand the basics of the language.</p>
<h3 id="some-pointers">Some Pointers</h3>
<p>Like in most languages, the hello world statement is rather simple:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="at">print_endline</span>(<span class="st">&quot;Hello world!&quot;</span>)</a></code></pre></div>
<p>The virtue of ReasonML/OCaml, is that due to its strong type system, their are <em>several</em> different print statements, each devoted to a different type of variable, from integers to strings.</p>
<p>Variables, like in many functional languages, are immutable. Here is an example of a variable along with basic concatenation:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">let</span> hello <span class="op">=</span> <span class="st">&quot;hello&quot;</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">let</span> world <span class="op">=</span> <span class="st">&quot;world&quot;</span></a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="at">print_endline</span>(hello <span class="op">++</span> world)</a></code></pre></div>
<p>The strength of the OCaml type system allows one not to declare types, but declaring types in variables is simple and can prove to be helpful, especially with functions.</p>
<p>To look at an example of declaring types, lets using the very common square function example:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">let</span> add <span class="op">=</span> (x<span class="op">:</span> int<span class="op">,</span> y<span class="op">:</span> int)<span class="op">:</span> int <span class="kw">=&gt;</span> x <span class="op">+</span> y</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">let</span> a<span class="op">:</span> int <span class="op">=</span> <span class="dv">3</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">let</span> b<span class="op">:</span> int <span class="op">=</span> <span class="dv">5</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="at">add</span>(<span class="dv">3</span><span class="op">,</span> <span class="dv">5</span>)</a></code></pre></div>
<p>If one decided to declare a as a string, the compiler would not let you do that. That proves to be a useful guiding hand when working with functions in ReasonML.</p>
<p>As seen, functions are declared also with a <code>let</code> statement, but conveniently, befitting a functional programming language, recursion gets treated uniquely when declaring functions. While not needed, a <code>rec</code> when declaring a ReasonML function shows to you and the compiler that you are declaring a recursive function. To give a simple example of a recursive function, here is fibonacci done in Reason:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">let</span> rec fib <span class="op">=</span> <span class="at">fun</span>(x<span class="op">:</span> int) <span class="kw">=&gt;</span> <span class="cf">switch</span>(x) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">    <span class="op">|</span> _ <span class="at">when</span> (x <span class="op">&lt;</span> <span class="dv">2</span>) <span class="kw">=&gt;</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb6-3" title="3">    <span class="op">|</span> _ <span class="kw">=&gt;</span> (<span class="at">fib</span> (x <span class="op">-</span> <span class="dv">1</span>) <span class="op">+</span> <span class="at">fib</span>(x <span class="op">-</span> <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb6-4" title="4"><span class="op">};</span></a>
<a class="sourceLine" id="cb6-5" title="5"></a>
<a class="sourceLine" id="cb6-6" title="6"><span class="cf">for</span> (x <span class="kw">in</span> <span class="dv">1</span> to <span class="dv">10</span>)<span class="op">{</span></a>
<a class="sourceLine" id="cb6-7" title="7">    <span class="va">Js</span>.<span class="at">log</span>(<span class="at">fib</span>(x))<span class="op">;</span></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="op">}</span></a></code></pre></div>
<p>While not in the scope in this tutorial, the reason we are able to do a more imperative style loop, as due to the interoperability of JavaScript and Reason, one can use JavaScript in Reason code. However, it is recommended to make sure you declare your types properly. This trait combined with ReasonMLs legacy of imperative style from OCaml, lets one do imperative programming when needed.</p>
<p>While their is a lot more I want to talk about with ReasonML, these are a few simple things that caught my eye, and I found interesting to compare in contrast. Their are more interesting topics to write about ReasonML however, and I will be covering them in the future. I believe that ReasonML represents a interesting development not only in how we do JavaScript, but how it expands OCaml to people who would not normally code in it. For just this, that makes Reason something to keep your eyes peeled on.</p>
    </section>
</article>

        </main>

        <footer>
            Site proudly built with 
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
            <br>
            Follow me at:
            <a href="https://twitter.com/LarsESchonander">@LarsESchonander</a>
        </footer>
    </body>
</html>
